# コーディング規約

## 1. 全般的なガイドライン

- DRY (Don't Repeat Yourself) 原則を守る
- KISS (Keep It Simple, Stupid) 原則を意識する
- YAGNI (You Aren't Gonna Need It) 原則に従い、不要な機能は実装しない
- 可読性を重視し、自己文書化コードを目指す
- コメントは必要最小限に留め、コード自体で意図を表現する

## 2. ファイル構成

- 1ファイルにつき1つの主要な機能やクラスを定義する
- ファイル名はその内容を適切に表現する（例：UserAuthentication.ts）
- ディレクトリ構造は機能やモジュールごとに整理する

## 3. 命名規則

- 変数名：キャメルケース（例：userName）
- 関数名：キャメルケース（例：getUserData()）
- クラス名：パスカルケース（例：UserAuthentication）
- 定数：大文字のスネークケース（例：MAX_LOGIN_ATTEMPTS）
- プライベートプロパティ/メソッド：アンダースコアで始める（例：_privateMethod()）

## 4. TypeScript固有のルール

- 型定義は可能な限り具体的に行う
- `any`型の使用は避け、必要な場合はコメントで理由を説明する
- インターフェースの名前は`I`で始めない
- ユニオン型とインターセクション型を適切に活用する
- null許容型（`Type | null`）を使用し、undefined との混在を避ける

## 5. React固有のルール

- コンポーネントはできるだけ小さく、単一責任の原則に従う
- Hooksを積極的に活用し、クラスコンポーネントの使用を最小限に抑える
- Propsの型定義を必ず行う
- メモ化（useMemo, useCallback）を適切に使用してパフォーマンスを最適化する
- コンポーネントのファイル名は.tsxとし、パスカルケースで命名する

## 6. スタイリング

- TailwindCSSを使用する場合、クラス名の順序は一貫性を保つ
- カスタムCSSは最小限に抑え、必要な場合はモジュールCSSを使用する

## 7. エラー処理

- try-catchブロックを適切に使用する
- エラーオブジェクトは適切に型付けし、カスタムエラークラスを活用する
- ユーザーに表示するエラーメッセージは明確で親切なものにする

## 8. 非同期処理

- Promise chainingよりもasync/awaitを優先して使用する
- 複数の非同期処理を並行して行う場合は、Promise.allを活用する

## 9. テスト

- 全ての新機能に対してユニットテストを書く
- テストファイル名は`[対象ファイル名].test.ts(x)`とする
- テストケースは明確で具体的な名前をつける
- モックとスタブを適切に使用してテストの独立性を保つ

## 10. コードフォーマット

- ESLintとPrettierを使用して、コードスタイルの一貫性を保つ
- インデントはスペース2つ
- 行の最大長は100文字
- 関数やクラスの間は1行空ける

## 11. バージョン管理

- コミットメッセージは具体的で明確に書く
- 機能ごとにブランチを作成し、Pull Requestで変更を提案する
- マージ前にコードレビューを必ず行う

## 12. ドキュメンテーション

- 複雑なロジックには必ずコメントを付ける
- PublicなAPI関数には必ずJSDocコメントを付ける
- README.mdファイルを適切に維持し、プロジェクトの概要、セットアップ手順、主要機能を説明する

## 13. パフォーマンス最適化

- 不要なレンダリングを避けるため、Reactのメモ化機能を適切に使用する
- 大きなデータセットを扱う際は、仮想化ライブラリ（例：react-window）を検討する
- 画像の最適化とLazy Loadingを実装する

## 14. セキュリティ

- ユーザー入力は必ずサニタイズする
- 機密情報（APIキーなど）をコードにハードコーディングしない
- クロスサイトスクリプティング（XSS）対策を徹底する
